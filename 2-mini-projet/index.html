<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.2/css/all.css" integrity="sha384-fnmOCqbTlWIlj8LyTjo7mOUStjsKC4pOpQbqyi7RrhN7udi9RwhKkMHpvLbHG9Sr" crossorigin="anonymous">
    <link rel="stylesheet" href="style.css">
    <title>Todo List</title>
    <script>
        //function to add a certain task
        function task_adder(event) {
                event.preventDefault();
                let taskInput = document.getElementById("new");
                let taskValue=taskInput.value

                if (taskValue !== "") { // if input is not empty
                    let a = document.createElement("li");
                    a.className = "list-group-item d-flex justify-content-between align-items-center";
                    a.innerHTML = `
                <span>${taskValue}</span>
                <i class="far fa-trash-alt delete"></i>
            `; //create the element

                    document.getElementById("tu").appendChild(a);//add it to the list
                    taskInput.value = ""; // Clear input after adding task
                }

        }
        //function to display the tasks that contain the expression that we have on the search bar
        function f_tasks() {
            let sea_inp = document.getElementById("search").value;
            let to_do = document.querySelectorAll("ul li");
            to_do.forEach(task => {
                // Get the text inside <span>
                let t_text = task.querySelector("span").textContent;
                for (let i=0;i<sea_inp.length;i++){
                    if (sea_inp[i]===t_text[i]){
                        task.style.visibility= "visible";
                    }
                    else{
                        task.style.visibility = "hidden";
                    }
                }

            });
        }

    </script>
</head>
<body>

<div class="container">

    <header class="text-center text-light my-4">
        <h1 class="mb-4">Todo List</h1>
        <form class="search">
            <input class="form-control m-auto" type="text" name="search"   id="search" placeholder="Search todos..." onkeyup="f_tasks()"  />
        </form>
    </header>

    <ul id="tu" class="list-group todos mx-auto text-light">
        <li class="list-group-item d-flex justify-content-between align-items-center">
            <span>play mariokart</span>
            <i class="far fa-trash-alt delete"></i>
        </li>
        <li class="list-group-item d-flex justify-content-between align-items-center">
            <span>defeat ganon in zelda</span>
            <i class="far fa-trash-alt delete"></i>
        </li>
        <li class="list-group-item d-flex justify-content-between align-items-center">
            <span>make a veggie pie</span>
            <i class="far fa-trash-alt delete"></i>
        </li>
    </ul>

    <form class="add text-center my-4" onsubmit="task_adder(event)">
        <label class="text-light">Add a new todo...</label>
        <input class="form-control m-auto" type="text" name="add" id="new" />
    </form>

</div>


<script src="sandbox.js"></script>
</body>
</html>